webpackJsonp([6],{"443z":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("P9l9"),l={data:function(){return{hasChild:!0,TableList:[{label:"菜单名称",prop:"title"},{label:"路由名称",prop:"name"},{label:"路由路径",prop:"path"},{label:"文件名",prop:"fileName"},{label:"菜单图标",prop:"icon"}],TableData:[],MainMenu:{title:"",icon:""},SubMenu:{id:0,name:"",path:"",title:"",fileName:"",parentId:0,icon:""},AddMainMenuVisible:!1,AddSubMenuVisible:!1,IsAddMenu:!0}},methods:{AddSubMenu:function(){var e=this;this.IsAddMenu?Object(i.h)(this.SubMenu).then(function(t){t.IsSuccess?(e.AddSubMenuVisible=!1,e.$notify({title:"成功",message:"新增成功",type:"success"}),e.SubMenu={},e.GetMenus()):e.$notify({title:"失败",message:t.Message,type:"error"})}):0==this.SubMenu.floor?Object(i.H)(this.SubMenu).then(function(t){t.IsSuccess?(e.AddSubMenuVisible=!1,e.$notify({title:"成功",message:"修改成功",type:"success"}),e.SubMenu={},e.GetMenus()):e.$notify({title:"失败",message:t.Message,type:"error"})}):Object(i.J)(this.SubMenu).then(function(t){t.IsSuccess?(e.AddSubMenuVisible=!1,e.$notify({title:"成功",message:"修改成功",type:"success"}),e.SubMenu={},e.GetMenus()):e.$notify({title:"失败",message:t.Message,type:"error"})})},DeleteMenu:function(e){var t=this,n={id:e.id};0==e.floor?Object(i.A)(n).then(function(e){e.IsSuccess?(t.$notify({title:"成功",message:"删除成功",type:"success"}),t.GetMenus()):t.$notify({title:"失败",message:e.Message,type:"error"})}):Object(i.C)(n).then(function(e){e.IsSuccess?(t.$notify({title:"成功",message:"删除成功",type:"success"}),t.GetMenus()):t.$notify({title:"失败",message:e.Message,type:"error"})})},AddMainMenu:function(){var e=this;Object(i.e)(this.MainMenu).then(function(t){t.IsSuccess?(e.AddMainMenuVisible=!1,e.$notify({title:"成功",message:"新增成功",type:"success"}),e.GetMenus()):e.$notify({title:"失败",message:t.Message,type:"error"})})},GetMenus:function(){var e=this;Object(i.k)().then(function(t){if(t.IsSuccess){e.Menus=t.TModel;var n=e.Menus.filter(function(e){return 0==e.parentId});n.forEach(function(t){t.floor=0;var n=e.Menus.filter(function(e){return e.parentId==t.id});n.forEach(function(t){var n=e.Menus.filter(function(e){return e.parentId==t.id});t.floor=1,t.children=n}),t.children=n}),e.TableData=n}else e.$notity({title:"失败",message:t.Message,type:"error"})}).catch(function(e){console.log(e)})}},created:function(){this.GetMenus()}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.AddMainMenuVisible=!0}}},[e._v("\n        新增主菜单\n    ")]),e._v(" "),n("el-dialog",{attrs:{title:"新增主菜单",visible:e.AddMainMenuVisible,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(t){e.AddMainMenuVisible=t}}},[n("div",{staticClass:"divdialog"},[n("el-input",{attrs:{type:"text",placeholder:"菜单名称"},model:{value:e.MainMenu.title,callback:function(t){e.$set(e.MainMenu,"title",t)},expression:"MainMenu.title"}}),e._v(" "),n("el-input",{attrs:{type:"text",placeholder:"菜单图标"},model:{value:e.MainMenu.icon,callback:function(t){e.$set(e.MainMenu,"icon",t)},expression:"MainMenu.icon"}}),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.AddMainMenu}},[e._v("确 定")]),e._v(" "),n("el-button",{on:{click:function(t){e.AddMainMenuVisible=!1}}},[e._v("取 消")])],1)]),e._v(" "),n("el-dialog",{attrs:{title:e.IsAddMenu?"新增子菜单":"编辑子菜单",visible:e.AddSubMenuVisible,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(t){e.AddSubMenuVisible=t}}},[n("div",{staticClass:"divdialog"},[n("el-input",{attrs:{type:"text",placeholder:"菜单名称"},model:{value:e.SubMenu.title,callback:function(t){e.$set(e.SubMenu,"title",t)},expression:"SubMenu.title"}}),e._v(" "),n("el-input",{attrs:{type:"text",placeholder:"路由路径"},model:{value:e.SubMenu.path,callback:function(t){e.$set(e.SubMenu,"path",t)},expression:"SubMenu.path"}}),e._v(" "),n("el-input",{attrs:{type:"text",placeholder:"路由名称"},model:{value:e.SubMenu.name,callback:function(t){e.$set(e.SubMenu,"name",t)},expression:"SubMenu.name"}}),e._v(" "),n("el-input",{attrs:{type:"text",placeholder:"文件名称"},model:{value:e.SubMenu.fileName,callback:function(t){e.$set(e.SubMenu,"fileName",t)},expression:"SubMenu.fileName"}}),e._v(" "),n("el-input",{attrs:{type:"text",placeholder:"菜单图标"},model:{value:e.SubMenu.icon,callback:function(t){e.$set(e.SubMenu,"icon",t)},expression:"SubMenu.icon"}}),e._v(" "),n("p",[e._v("图标需从"),n("el-link",{attrs:{type:"primary",href:"https://element.eleme.cn/#/zh-CN/component/icon",target:"_blank"}},[e._v("element官方完档\n                ")]),e._v(" 中获取，eg：el-icon-platform-eleme")],1),e._v(" "),n("div",{staticStyle:{margin:"20px"}}),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.AddSubMenu()}}},[e._v("确 定")]),e._v(" "),n("el-button",{on:{click:function(t){e.AddSubMenuVisible=!1}}},[e._v("取 消")])],1)]),e._v(" "),n("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.TableData,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[e._l(e.TableList,function(e,t){return n("el-table-column",{key:t,attrs:{label:e.label,prop:e.prop}})}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){e.AddSubMenuVisible=!0,e.IsAddMenu=!1,e.SubMenu=t.row}}},[e._v("编辑\n                ")]),e._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.row.floor<2,expression:"scope.row.floor<2"}],attrs:{type:"text"},on:{click:function(n){e.AddSubMenuVisible=!0,e.IsAddMenu=!0,e.SubMenu.parentId=t.row.id}}},[e._v("新增子菜单\n                ")]),e._v(" "),n("el-popconfirm",{attrs:{title:"确认执行删除操作吗"},on:{onConfirm:function(n){return e.DeleteMenu(t.row)}}},[n("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("删除")])],1)]}}])})],2)],1)},staticRenderFns:[]};var u=n("VU/8")(l,s,!1,function(e){n("8zv2")},null,null);t.default=u.exports},"8zv2":function(e,t){}});
//# sourceMappingURL=6.3f654d1286e180936dcb.js.map